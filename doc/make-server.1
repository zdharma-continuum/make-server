.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "ZMAKE" "1" "2022" "" ""
.hy
.SH NAME
.PP
make-server - the (expected/but non-necessary) background script that
performs periodical \f[C]make\f[R] executions in given, configured
directories.
.SH SYNOPSIS
.PP
\f[I]make-server\f[R] {config file}
.SH DESCRIPTION
.PP
Background service which compiles configured list of projects.
To set it up you can either:
.IP \[bu] 2
export MSERV_CONF_DIRS variable supplying the projects\[cq] dirs via a
colon separated list; e.g.:
\f[C]export MSERV_CONF_DIRS={path1}:{path2}:\&...\f[R],
.IP \[bu] 2
or edit \[ti]/.config/mkserv/make-server.conf\[ga].
.PP
and then run
\f[C]./make-server \[ti]/.config/mksrv/make-server.conf\f[R], for
example.
.PP
That would be a manual, foreground run of the build service.
You can also run it in background either by executing
\f[C]make.service.zsh\f[R] or by using \f[C]Zinit\f[R] plugin manager,
which will manage only a single instance of the make-server:
.IP
.nf
\f[C]
zinit service\[aq]make\[aq] param\[aq]MSERV_CONF_DIRS->\[ti]/github/project\[aq] for \[rs]
                zservices/make-server\[ga]
\f[R]
.fi
.SH CONFIGURATION VARIABLES
.PP
You can get the current full list of other \f[C]MSERV_*\f[R] variables
by looking at make-server.conf.
The (rather also complete) register of them is:
.IP \[bu] 2
\f[B]\f[CB]MSERV_CONF_DIRS\f[B]\f[R] - a colon separated list of paths
to the project to compile,
.IP \[bu] 2
\f[B]\f[CB]MSERV_CONF_INTERVAL\f[B]\f[R] - an integer which is the
number of seconds between build attempts,
.IP \[bu] 2
\f[B]\f[CB]MSERV_CONF_ARGS\f[B]\f[R] - a colon separated list of
argument given to \f[C]make\f[R] command, e.g.:
\f[C]MSERV_CONF_ARGS=-j3:-C doc\f[R],
.IP \[bu] 2
\f[B]\f[CB]MSERV_CONF_PAUSE_AFTER\f[B]\f[R] - an integet which is the
number of \f[C]make\f[R] builds yielding no difference in their output
before sleeping any future build on them if not unlocked.
.SH RESOURCES
.PP
\f[B]Project web site:\f[R] https://github.com/zservices/make-server
.SH COPYING
.PP
Copyright (C) 2022 Sebastian Gniazdowski
.SH AUTHORS
Sebastian Gniazdowski.
